<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dynamic Blog Cards</title>
  <style>
    :root{
      --bg:#101318; --box:#1b1f2a; --muted:#9ca3af; --text:#f3f4f6; --accent:#3b82f6;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Segoe UI,Roboto,Arial,sans-serif;background:var(--bg);color:var(--text)}
    header{padding:24px 16px;border-bottom:1px solid #262b36}
    .container{max-width:1100px;margin:0 auto}
    h1{margin:0 0 6px;font-size:28px}
    p.sub{margin:0;color:var(--muted)}

    /* Controls */
    .filters{display:flex;gap:12px;flex-wrap:wrap;align-items:center;padding:16px}
    .filters input,.filters select{background:#151822;color:var(--text);border:1px solid #2f3444;border-radius:8px;padding:10px 12px}
    .filters input::placeholder{color:#6b7280}

    /* Grid */
    .cards{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:20px;padding:16px}
    @media(min-width:640px){.cards{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media(min-width:992px){.cards{grid-template-columns:repeat(3,minmax(0,1fr))}}

    /* Card */
    .post{background:var(--box);border:1px solid #2f3444;border-radius:12px;overflow:hidden;display:flex;flex-direction:column;transition:transform .15s ease, box-shadow .15s ease}
    .post:hover{transform:translateY(-3px);box-shadow:0 6px 22px rgba(0,0,0,.3)}
    .thumb{aspect-ratio:16/10;object-fit:cover;width:100%}
    .content{padding:14px}
    .heading{margin:0 0 8px;font-size:18px;line-height:1.25}
    .info{display:flex;gap:8px;flex-wrap:wrap;color:var(--muted);font-size:12px;margin-bottom:10px}
    .summary{color:#d1d5db;font-size:14px}
    .labels{display:flex;gap:6px;flex-wrap:wrap;margin-top:12px}
    .label{font-size:12px;background:#151822;border:1px solid #323849;color:#93c5fd;padding:3px 8px;border-radius:999px}
    .post a.btn{margin-top:auto;display:inline-block;background:var(--accent);color:#fff;text-decoration:none;padding:9px 12px;border-radius:8px;font-weight:600}

    .status{padding:16px;color:var(--muted)}
    footer{padding:28px 16px;color:var(--muted);text-align:center;border-top:1px solid #262b36;margin-top:20px}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Dynamic Blog Cards</h1>
      <p class="sub">Load posts from dummy JSON and filter them.</p>
    </div>
  </header>

  <div class="container">
    <div class="filters">
      <input id="searchBox" type="search" placeholder="Search by title, author or tag…" />
      <select id="sortSelect">
        <option value="newest">Newest First</option>
        <option value="oldest">Oldest First</option>
        <option value="title">Title (A–Z)</option>
      </select>
    </div>

    <div id="loading" class="status">Loading posts…</div>
    <div id="cardGrid" class="cards" hidden></div>
  </div>

  <footer>
    <div class="container">Built with plain HTML, CSS & JS – easy to customise.</div>
  </footer>

  <script>
    const samplePosts = [
      {
        id: 1,
        title: "Getting Started with JavaScript",
        author: "Ayesha Noor",
        date: "2025-08-12",
        tags: ["javascript","basics"],
        excerpt: "Learn variables, data types, and how to write your first script.",
        image: "https://picsum.photos/id/1015/800/500"
      },
      {
        id: 2,
        title: "CSS Grid in 10 Minutes",
        author: "Bilal Khan",
        date: "2025-07-21",
        tags: ["css","layout"],
        excerpt: "A super quick primer to building responsive grids.",
        image: "https://picsum.photos/id/1025/800/500"
      },
      {
        id: 3,
        title: "Understanding Fetch API",
        author: "Mehak Fatima",
        date: "2025-06-05",
        tags: ["javascript","api"],
        excerpt: "How to make HTTP requests in the browser the modern way.",
        image: "https://picsum.photos/id/1005/800/500"
      }
    ];

    const grid = document.getElementById('cardGrid');
    const status = document.getElementById('loading');
    const search = document.getElementById('searchBox');
    const sort = document.getElementById('sortSelect');

    const fmtDate = iso => new Date(iso).toLocaleDateString(undefined,{year:'numeric',month:'short',day:'numeric'});

    function makeCard(post){
      const el = document.createElement('article');
      el.className = 'post';
      el.innerHTML = `
        <img class="thumb" src="${post.image}" alt="${post.title}">
        <div class="content">
          <h3 class="heading">${post.title}</h3>
          <div class="info">
            <span>By ${post.author}</span>
            <span>•</span>
            <span>${fmtDate(post.date)}</span>
          </div>
          <p class="summary">${post.excerpt}</p>
          <div class="labels">${post.tags.map(t=>`<span class="label">#${t}</span>`).join('')}</div>
          <a class="btn" href="#">Read more</a>
        </div>`;
      return el;
    }

    function show(posts){
      grid.innerHTML = '';
      posts.forEach(p => grid.appendChild(makeCard(p)));
    }

    function filterPosts(posts){
      const q = search.value.trim().toLowerCase();
      let list = posts.filter(p => 
        p.title.toLowerCase().includes(q) ||
        p.author.toLowerCase().includes(q) ||
        p.tags.some(t => t.toLowerCase().includes(q))
      );
      if(sort.value === 'newest') list.sort((a,b)=> new Date(b.date)-new Date(a.date));
      if(sort.value === 'oldest') list.sort((a,b)=> new Date(a.date)-new Date(b.date));
      if(sort.value === 'title') list.sort((a,b)=> a.title.localeCompare(b.title));
      return list;
    }

    // Simulate async fetch
    function loadData(){
      return new Promise(res=> setTimeout(()=> res(samplePosts),400));
    }

    (async function init(){
      const posts = await loadData();
      status.hidden = true;
      grid.hidden = false;
      show(filterPosts(posts));
      search.addEventListener('input',()=>show(filterPosts(posts)));
      sort.addEventListener('change',()=>show(filterPosts(posts)));
    })();
  </script>
</body>
</html>
